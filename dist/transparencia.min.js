!function t(e,n,r){function o(u,s){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!s&&c)return c(u,!0);if(i)return i(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var f=n[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return o(n?n:t)},f,f.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t){"use strict";t("request"),t("querystring"),t("q")},{q:7,querystring:6,request:2}],2:[function(t,e){function n(t,e){if("function"!=typeof e)throw new Error("Bad callback given: "+e);if(!t)throw new Error("No options given");var u=t.onResponse;if(t="string"==typeof t?{uri:t}:JSON.parse(JSON.stringify(t)),t.onResponse=u,t.verbose&&(n.log=i()),t.url&&(t.uri=t.url,delete t.url),!t.uri&&""!==t.uri)throw new Error("options.uri is a required argument");if("string"!=typeof t.uri)throw new Error("options.uri must be a string");for(var s=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],a=0;a<s.length;a++)if(t[s[a]])throw new Error("options."+s[a]+" is not supported");if(t.callback=e,t.method=t.method||"GET",t.headers=t.headers||{},t.body=t.body||null,t.timeout=t.timeout||n.DEFAULT_TIMEOUT,t.headers.host)throw new Error("Options.headers.host is not supported");t.json&&(t.headers.accept=t.headers.accept||"application/json","GET"!==t.method&&(t.headers["content-type"]="application/json"),"boolean"!=typeof t.json?t.body=JSON.stringify(t.json):"string"!=typeof t.body&&(t.body=JSON.stringify(t.body)));var f=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")};if(t.qs){var p="string"==typeof t.qs?t.qs:f(t.qs);t.uri=-1!==t.uri.indexOf("?")?t.uri+"&"+p:t.uri+"?"+p}var d=function(t){var e={};e.boundry="-------------------------------"+Math.floor(1e9*Math.random());var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push("--"+e.boundry+'\nContent-Disposition: form-data; name="'+r+'"\n\n'+t[r]+"\n");return n.push("--"+e.boundry+"--"),e.body=n.join(""),e.length=e.body.length,e.type="multipart/form-data; boundary="+e.boundry,e};if(t.form){if("string"==typeof t.form)throw"form name unsupported";if("POST"===t.method){var l=(t.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(t.headers["content-type"]=l,l){case"application/x-www-form-urlencoded":t.body=f(t.form).replace(/%20/g,"+");break;case"multipart/form-data":var h=d(t.form);t.body=h.body,t.headers["content-type"]=h.type;break;default:throw new Error("unsupported encoding:"+l)}}}return t.onResponse=t.onResponse||o,t.onResponse===!0&&(t.onResponse=e,t.callback=o),!t.headers.authorization&&t.auth&&(t.headers.authorization="Basic "+c(t.auth.username+":"+t.auth.password)),r(t)}function r(t){function e(){f=!0;var e=new Error("ETIMEDOUT");return e.code="ETIMEDOUT",e.duration=t.timeout,n.log.error("Timeout",{id:c._id,milliseconds:t.timeout}),t.callback(e,c)}function r(){if(f)return n.log.debug("Ignoring timed out state change",{state:c.readyState,id:c.id});if(n.log.debug("State change",{state:c.readyState,id:c.id,timed_out:f}),c.readyState===a.OPENED){n.log.debug("Request started",{id:c.id});for(var e in t.headers)c.setRequestHeader(e,t.headers[e])}else c.readyState===a.HEADERS_RECEIVED?o():c.readyState===a.LOADING?(o(),i()):c.readyState===a.DONE&&(o(),i(),u())}function o(){if(!y.response){if(y.response=!0,n.log.debug("Got response",{id:c.id,status:c.status}),clearTimeout(c.timeoutTimer),c.statusCode=c.status,d&&0==c.statusCode){var e=new Error("CORS request rejected: "+t.uri);return e.cors="rejected",y.loading=!0,y.end=!0,t.callback(e,c)}t.onResponse(null,c)}}function i(){y.loading||(y.loading=!0,n.log.debug("Response body loading",{id:c.id}))}function u(){if(!y.end){if(y.end=!0,n.log.debug("Request done",{id:c.id}),c.body=c.responseText,t.json)try{c.body=JSON.parse(c.responseText)}catch(e){return t.callback(e,c)}t.callback(null,c,c.body)}}var c=new a,f=!1,d=s(t.uri),l="withCredentials"in c;if(p+=1,c.seq_id=p,c.id=p+": "+t.method+" "+t.uri,c._id=c.id,d&&!l){var h=new Error("Browser does not support cross-origin request: "+t.uri);return h.cors="unsupported",t.callback(h,c)}c.timeoutTimer=setTimeout(e,t.timeout);var y={response:!1,loading:!1,end:!1};return c.onreadystatechange=r,c.open(t.method,t.uri,!0),d&&(c.withCredentials=!!t.withCredentials),c.send(t.body),c}function o(){}function i(){var t,e,n={},r=["trace","debug","info","warn","error"];for(e=0;e<r.length;e++)t=r[e],n[t]=o,"undefined"!=typeof console&&console&&console[t]&&(n[t]=u(console,t));return n}function u(t,e){function n(n,r){return"object"==typeof r&&(n+=" "+JSON.stringify(r)),t[e].call(t,n)}return n}function s(t){var e,n=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{e=location.href}catch(r){e=document.createElement("a"),e.href="",e=e.href}var o=n.exec(e.toLowerCase())||[],i=n.exec(t.toLowerCase()),u=!(!i||i[1]==o[1]&&i[2]==o[2]&&(i[3]||("http:"===i[1]?80:443))==(o[3]||("http:"===o[1]?80:443)));return u}function c(t){var e,n,r,o,i,u,s,c,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=0,p=0,d="",l=[];if(!t)return t;do e=t.charCodeAt(f++),n=t.charCodeAt(f++),r=t.charCodeAt(f++),c=e<<16|n<<8|r,o=c>>18&63,i=c>>12&63,u=c>>6&63,s=63&c,l[p++]=a.charAt(o)+a.charAt(i)+a.charAt(u)+a.charAt(s);while(f<t.length);switch(d=l.join(""),t.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"="}return d}var a=XMLHttpRequest;if(!a)throw new Error("missing XMLHttpRequest");n.log={trace:o,debug:o,info:o,warn:o,error:o};var f=18e4,p=0;n.withCredentials=!1,n.DEFAULT_TIMEOUT=f,n.defaults=function(t){var e=function(e){var n=function(n,r){n="string"==typeof n?{uri:n}:JSON.parse(JSON.stringify(n));for(var o in t)void 0===n[o]&&(n[o]=t[o]);return e(n,r)};return n},r=e(n);return r.get=e(n.get),r.post=e(n.post),r.put=e(n.put),r.head=e(n.head),r};var d=["get","put","post","head"];d.forEach(function(t){var e=t.toUpperCase(),r=t.toLowerCase();n[r]=function(t){"string"==typeof t?t={method:e,uri:t}:(t=JSON.parse(JSON.stringify(t)),t.method=e);var r=[t].concat(Array.prototype.slice.apply(arguments,[1]));return n.apply(this,r)}}),n.couch=function(t,e){function r(t,n,r){if(t)return e(t,n,r);if((n.statusCode<200||n.statusCode>299)&&r.error){t=new Error("CouchDB error: "+(r.error.reason||r.error.error));for(var o in r)t[o]=r[o];return e(t,n,r)}return e(t,n,r)}"string"==typeof t&&(t={uri:t}),t.json=!0,t.body&&(t.json=t.body),delete t.body,e=e||o;var i=n(t,r);return i},e.exports=n},{}],3:[function(t,e){function n(){}var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,o,i){e=e||"&",o=o||"=";var u={};if("string"!=typeof t||0===t.length)return u;var s=/\+/g;t=t.split(e);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var a=t.length;c>0&&a>c&&(a=c);for(var f=0;a>f;++f){var p,d,l,h,y=t[f].replace(s,"%20"),v=y.indexOf(o);v>=0?(p=y.substr(0,v),d=y.substr(v+1)):(p=y,d=""),l=decodeURIComponent(p),h=decodeURIComponent(d),n(u,l)?r(u[l])?u[l].push(h):u[l]=[u[l],h]:u[l]=h}return u};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],5:[function(t,e){"use strict";function n(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,u,s){return e=e||"&",u=u||"=",null===t&&(t=void 0),"object"==typeof t?n(i(t),function(i){var s=encodeURIComponent(r(i))+u;return o(t[i])?n(t[i],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[i]))}).join(e):s?encodeURIComponent(r(s))+u+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],6:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":4,"./encode":5}],7:[function(t,e,n){(function(t){!function(t){if("function"==typeof bootstrap)bootstrap("promise",t);else if("object"==typeof n)e.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=t}else Q=t()}(function(){"use strict";function e(t){return function(){return Q.apply(t,arguments)}}function n(t){return t===Object(t)}function r(t){return"[object StopIteration]"===ne(t)||t instanceof H}function o(t,e){if(F&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(re)){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var o=n.join("\n"+re+"\n");t.stack=i(o)}}function i(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;++r){var o=e[r];c(o)||u(o)||!o||n.push(o)}return n.join("\n")}function u(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function s(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function c(t){var e=s(t);if(!e)return!1;var n=e[0],r=e[1];return n===G&&r>=V&&se>=r}function a(){if(F)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],r=s(n);if(!r)return;return G=r[0],r[1]}}function f(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}function p(t){return g(t)?t:w(t)?C(t):T(t)}function d(){function t(t){e=t,i.source=t,$(n,function(e,n){K(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,r=void 0}var e,n=[],r=[],o=Z(d.prototype),i=Z(y.prototype);if(i.promiseDispatch=function(t,o,i){var u=X(arguments);n?(n.push(u),"when"===o&&i[1]&&r.push(i[1])):K(function(){e.promiseDispatch.apply(e,u)})},i.valueOf=function(){if(n)return i;var t=m(e);return g(t)&&(e=t),t},i.inspect=function(){return e?e.inspect():{state:"pending"}},p.longStackSupport&&F)try{throw new Error}catch(u){i.stack=u.stack.substring(u.stack.indexOf("\n")+1)}return o.promise=i,o.resolve=function(n){e||t(p(n))},o.fulfill=function(n){e||t(T(n))},o.reject=function(n){e||t(x(n))},o.notify=function(t){e||$(r,function(e,n){K(function(){n(t)})},void 0)},o}function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=d();try{t(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}return e.promise}function h(t){return l(function(e,n){for(var r=0,o=t.length;o>r;r++)p(t[r]).then(e,n)})}function y(t,e,n){void 0===e&&(e=function(t){return x(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=Z(y.prototype);if(r.promiseDispatch=function(n,o,i){var u;try{u=t[o]?t[o].apply(r,i):e.call(r,o,i)}catch(s){u=x(s)}n&&n(u)},r.inspect=n,n){var o=n();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function v(t,e,n,r){return p(t).then(e,n,r)}function m(t){if(g(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function g(t){return n(t)&&"function"==typeof t.promiseDispatch&&"function"==typeof t.inspect}function w(t){return n(t)&&"function"==typeof t.then}function b(t){return g(t)&&"pending"===t.inspect().state}function j(t){return!g(t)||"fulfilled"===t.inspect().state}function k(t){return g(t)&&"rejected"===t.inspect().state}function R(){oe.length=0,ie.length=0,ue||(ue=!0)}function O(t,e){ue&&(ie.push(t),oe.push(e&&"undefined"!=typeof e.stack?e.stack:"(no stack) "+e))}function E(t){if(ue){var e=W(ie,t);-1!==e&&(ie.splice(e,1),oe.splice(e,1))}}function x(t){var e=y({when:function(e){return e&&E(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return O(e,t),e}function T(t){return y({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},"delete":function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return ee(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function C(t){var e=d();return K(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}}),e.promise}function S(t){return y({isDef:function(){}},function(e,n){return U(t,e,n)},function(){return p(t).inspect()})}function N(t,e,n){return p(t).spread(e,n)}function A(t){return function(){function e(t,e){var u;if("undefined"==typeof StopIteration){try{u=n[t](e)}catch(s){return x(s)}return u.done?u.value:v(u.value,o,i)}try{u=n[t](e)}catch(s){return r(s)?s.value:x(s)}return v(u,o,i)}var n=t.apply(this,arguments),o=e.bind(e,"next"),i=e.bind(e,"throw");return o()}}function q(t){p.done(p.async(t)())}function I(t){throw new H(t)}function D(t){return function(){return N([this,P(arguments)],function(e,n){return t.apply(e,n)})}}function U(t,e,n){return p(t).dispatch(e,n)}function P(t){return v(t,function(t){var e=0,n=d();return $(t,function(r,o,i){var u;g(o)&&"fulfilled"===(u=o.inspect()).state?t[i]=u.value:(++e,v(o,function(r){t[i]=r,0===--e&&n.resolve(t)},n.reject,function(t){n.notify({index:i,value:t})}))},void 0),0===e&&n.resolve(t),n.promise})}function L(t){return v(t,function(t){return t=Y(t,p),v(P(Y(t,function(t){return v(t,z,z)})),function(){return t})})}function M(t){return p(t).allSettled()}function _(t,e){return p(t).then(void 0,void 0,e)}function J(t,e){return p(t).nodeify(e)}var F=!1;try{throw new Error}catch(B){F=!!B.stack}var G,H,V=a(),z=function(){},K=function(){function e(){for(;n.next;){n=n.next;var t=n.task;n.task=void 0;var r=n.domain;r&&(n.domain=void 0,r.enter());try{t()}catch(i){if(u)throw r&&r.exit(),setTimeout(e,0),r&&r.enter(),i;setTimeout(function(){throw i},0)}r&&r.exit()}o=!1}var n={task:void 0,next:null},r=n,o=!1,i=void 0,u=!1;if(K=function(e){r=r.next={task:e,domain:u&&t.domain,next:null},o||(o=!0,i())},"undefined"!=typeof t&&t.nextTick)u=!0,i=function(){t.nextTick(e)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var s=new MessageChannel;s.port1.onmessage=function(){i=c,s.port1.onmessage=e,e()};var c=function(){s.port2.postMessage(0)};i=function(){setTimeout(e,0),c()}}else i=function(){setTimeout(e,0)};return K}(),Q=Function.call,X=e(Array.prototype.slice),$=e(Array.prototype.reduce||function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(e=t(e,this[n],n));return e}),W=e(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),Y=e(Array.prototype.map||function(t,e){var n=this,r=[];return $(n,function(o,i,u){r.push(t.call(e,i,u,n))},void 0),r}),Z=Object.create||function(t){function e(){}return e.prototype=t,new e},te=e(Object.prototype.hasOwnProperty),ee=Object.keys||function(t){var e=[];for(var n in t)te(t,n)&&e.push(n);return e},ne=e(Object.prototype.toString);H="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var re="From previous event:";p.resolve=p,p.nextTick=K,p.longStackSupport=!1,p.defer=d,d.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):t.resolve(arguments.length>2?X(arguments,1):n)}},p.Promise=l,p.promise=l,l.race=h,l.all=P,l.reject=x,l.resolve=p,p.passByCopy=function(t){return t},y.prototype.passByCopy=function(){return this},p.join=function(t,e){return p(t).join(e)},y.prototype.join=function(t){return p([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Can't join: not the same: "+t+" "+e)})},p.race=h,y.prototype.race=function(){return this.then(p.race)},p.makePromise=y,y.prototype.toString=function(){return"[object Promise]"},y.prototype.then=function(t,e,n){function r(e){try{return"function"==typeof t?t(e):e}catch(n){return x(n)}}function i(t){if("function"==typeof e){o(t,s);try{return e(t)}catch(n){return x(n)}}return x(t)}function u(t){return"function"==typeof n?n(t):t}var s=this,c=d(),a=!1;return K(function(){s.promiseDispatch(function(t){a||(a=!0,c.resolve(r(t)))},"when",[function(t){a||(a=!0,c.resolve(i(t)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=u(t)}catch(r){if(n=!0,!p.onerror)throw r;p.onerror(r)}n||c.notify(e)}]),c.promise},p.when=v,y.prototype.thenResolve=function(t){return this.then(function(){return t})},p.thenResolve=function(t,e){return p(t).thenResolve(e)},y.prototype.thenReject=function(t){return this.then(function(){throw t})},p.thenReject=function(t,e){return p(t).thenReject(e)},p.nearer=m,p.isPromise=g,p.isPromiseAlike=w,p.isPending=b,y.prototype.isPending=function(){return"pending"===this.inspect().state},p.isFulfilled=j,y.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},p.isRejected=k,y.prototype.isRejected=function(){return"rejected"===this.inspect().state};var oe=[],ie=[],ue=!0;p.resetUnhandledRejections=R,p.getUnhandledReasons=function(){return oe.slice()},p.stopUnhandledRejectionTracking=function(){R(),ue=!1},R(),p.reject=x,p.fulfill=T,p.master=S,p.spread=N,y.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},p.async=A,p.spawn=q,p["return"]=I,p.promised=D,p.dispatch=U,y.prototype.dispatch=function(t,e){var n=this,r=d();return K(function(){n.promiseDispatch(r.resolve,t,e)}),r.promise},p.get=function(t,e){return p(t).dispatch("get",[e])},y.prototype.get=function(t){return this.dispatch("get",[t])},p.set=function(t,e,n){return p(t).dispatch("set",[e,n])},y.prototype.set=function(t,e){return this.dispatch("set",[t,e])},p.del=p["delete"]=function(t,e){return p(t).dispatch("delete",[e])},y.prototype.del=y.prototype["delete"]=function(t){return this.dispatch("delete",[t])},p.mapply=p.post=function(t,e,n){return p(t).dispatch("post",[e,n])},y.prototype.mapply=y.prototype.post=function(t,e){return this.dispatch("post",[t,e])},p.send=p.mcall=p.invoke=function(t,e){return p(t).dispatch("post",[e,X(arguments,2)])},y.prototype.send=y.prototype.mcall=y.prototype.invoke=function(t){return this.dispatch("post",[t,X(arguments,1)])},p.fapply=function(t,e){return p(t).dispatch("apply",[void 0,e])},y.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},p["try"]=p.fcall=function(t){return p(t).dispatch("apply",[void 0,X(arguments,1)])},y.prototype.fcall=function(){return this.dispatch("apply",[void 0,X(arguments)])},p.fbind=function(t){var e=p(t),n=X(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(X(arguments))])}},y.prototype.fbind=function(){var t=this,e=X(arguments);return function(){return t.dispatch("apply",[this,e.concat(X(arguments))])}},p.keys=function(t){return p(t).dispatch("keys",[])},y.prototype.keys=function(){return this.dispatch("keys",[])},p.all=P,y.prototype.all=function(){return P(this)},p.allResolved=f(L,"allResolved","allSettled"),y.prototype.allResolved=function(){return L(this)},p.allSettled=M,y.prototype.allSettled=function(){return this.then(function(t){return P(Y(t,function(t){function e(){return t.inspect()}return t=p(t),t.then(e,e)}))})},p.fail=p["catch"]=function(t,e){return p(t).then(void 0,e)},y.prototype.fail=y.prototype["catch"]=function(t){return this.then(void 0,t)},p.progress=_,y.prototype.progress=function(t){return this.then(void 0,void 0,t)},p.fin=p["finally"]=function(t,e){return p(t)["finally"](e)},y.prototype.fin=y.prototype["finally"]=function(t){return t=p(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},p.done=function(t,e,n,r){return p(t).done(e,n,r)},y.prototype.done=function(e,n,r){var i=function(t){K(function(){if(o(t,u),!p.onerror)throw t;p.onerror(t)})},u=e||n||r?this.then(e,n,r):this;"object"==typeof t&&t&&t.domain&&(i=t.domain.bind(i)),u.then(void 0,i)},p.timeout=function(t,e,n){return p(t).timeout(e,n)},y.prototype.timeout=function(t,e){var n=d(),r=setTimeout(function(){n.reject(new Error(e||"Timed out after "+t+" ms"))},t);return this.then(function(t){clearTimeout(r),n.resolve(t)},function(t){clearTimeout(r),n.reject(t)},n.notify),n.promise},p.delay=function(t,e){return void 0===e&&(e=t,t=void 0),p(t).delay(e)},y.prototype.delay=function(t){return this.then(function(e){var n=d();return setTimeout(function(){n.resolve(e)},t),n.promise})},p.nfapply=function(t,e){return p(t).nfapply(e)},y.prototype.nfapply=function(t){var e=d(),n=X(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},p.nfcall=function(t){var e=X(arguments,1);return p(t).nfapply(e)},y.prototype.nfcall=function(){var t=X(arguments),e=d();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},p.nfbind=p.denodeify=function(t){var e=X(arguments,1);return function(){var n=e.concat(X(arguments)),r=d();return n.push(r.makeNodeResolver()),p(t).fapply(n).fail(r.reject),r.promise}},y.prototype.nfbind=y.prototype.denodeify=function(){var t=X(arguments);return t.unshift(this),p.denodeify.apply(void 0,t)},p.nbind=function(t,e){var n=X(arguments,2);return function(){function r(){return t.apply(e,arguments)}var o=n.concat(X(arguments)),i=d();return o.push(i.makeNodeResolver()),p(r).fapply(o).fail(i.reject),i.promise}},y.prototype.nbind=function(){var t=X(arguments,0);return t.unshift(this),p.nbind.apply(void 0,t)},p.nmapply=p.npost=function(t,e,n){return p(t).npost(e,n)},y.prototype.nmapply=y.prototype.npost=function(t,e){var n=X(e||[]),r=d();return n.push(r.makeNodeResolver()),this.dispatch("post",[t,n]).fail(r.reject),r.promise},p.nsend=p.nmcall=p.ninvoke=function(t,e){var n=X(arguments,2),r=d();return n.push(r.makeNodeResolver()),p(t).dispatch("post",[e,n]).fail(r.reject),r.promise},y.prototype.nsend=y.prototype.nmcall=y.prototype.ninvoke=function(t){var e=X(arguments,1),n=d();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},p.nodeify=J,y.prototype.nodeify=function(t){return t?void this.then(function(e){K(function(){t(null,e)})},function(e){K(function(){t(e)})}):this};var se=a();return p})}).call(this,t("_process"))},{_process:3}]},{},[1]);